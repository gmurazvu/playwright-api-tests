# Cox Automotive – QA Automation Technical Exercise  

**FakeStore API | Playwright + TypeScript**
 
This repository contains an API automation test suite built using **Playwright** and **TypeScript** to validate user workflows described in the Cox Automotive QA technical exercise.
 
The focus of this solution is on:

- Clear mapping to **user stories and acceptance criteria**

- Maintainable and readable test structure

- Reusable API abstractions

- Meaningful assertions and defensive testing
 
---
 
## Tech Stack

- **Playwright Test**

- **TypeScript**

- **Node.js**
 
---
 
## API Under Test

- FakeStore API: https://fakestoreapi.com  

- Reference: https://github.com/keikaavousi/fake-store-api
 
---
 
## Project Structure
 
```text

playwright-api-tests/
├── tests/
│   ├── userStory1.spec.ts
│   ├── userStory2.spec.ts
│   ├── userStory2HappyPath.spec.ts
│   └── userStory3.spec.ts
│
├── src/
│   ├── api/
│   │   ├── baseApiClient.ts
│   │   └── productsApi.ts
│   │
│   ├── models/
│   │   └── product.ts
│   │
│   └── utils/
│       └── productHelpers.ts
│
├── playwright.config.ts
├── package.json
└── README.md

userStory2HappyPath.spec.ts contains a stable “happy path” test for product creation, while userStory2.spec.ts focuses on acceptance criteria and documented API limitations.

## Setup Instructions

### Prerequisites

- Node.js 18+
- npm (included with Node.js)

### Install dependencies

Run:

```bash
npm install
```

### Install Playwright browsers

Run once:

```bash
npx playwright install
```

### Running the tests

- Run all tests:

```bash
npx playwright test
```

- Run a specific user story:

```bash
npx playwright test tests/userStory1.spec.ts
```

- Run tests in headed mode:

```bash
npx playwright test --headed
```

- View HTML test report:

```bash
npx playwright show-report
```

### Test Coverage

#### User Story 1

As an online shopper, view all available products and validate adding the cheapest electronics item.

Coverage:

- Retrieve product list (GET /products)
- Filter by `electronics` category
- Consider only in-stock items (`rating.count > 0`)
- Select the cheapest qualifying product
- Assert category and price validity

Note: FakeStore API does not provide a cart endpoint — "add to cart" is represented by validating the selected product.

### User Story 2  

**As a store manager, I want to add three new clothing items to the product catalogue.**

This user story is covered by two complementary tests to balance acceptance criteria with the limitations of the FakeStore API.

#### userStory2HappyPath.spec.ts
Covers the **stable happy path** for product creation:
- Creates a single product using `POST /products`
- Validates a successful response
- Asserts that an ID is generated and core fields (title, price) are returned correctly

This test demonstrates correct request construction, response validation, and API interaction without relying on API persistence.

#### userStory2.spec.ts
Focuses on the **full acceptance criteria**:
- Attempts to add multiple products
- Asserts expected uniqueness of product identifiers
- Verifies product visibility via `GET /products`
- Explicitly documents cases where the FakeStore API does not enforce uniqueness or persistence

Rather than weakening assertions to force passing tests, this approach documents expected business behaviour and highlights known API limitations.

> **Note:** FakeStore API is a demo API and does not consistently enforce uniqueness or persist created products.  
> Tests reflect the acceptance criteria and explicitly document this gap where applicable.

#### User Story 3

As a store admin, delete the product with the lowest rating.

Coverage:

- Identify product with lowest rating
- Delete the product (DELETE /products/:id)
- Attempt retrieval of deleted product

Known API limitation: FakeStore API may not persist deletions; tests document this limitation.

### Assumptions

- Product availability is approximated using `rating.count > 0`.
- Product IDs are generated by the API.
- Category values follow FakeStore API responses.

### Future Improvements

- JSON schema validation
- Additional negative tests
- CI pipeline integration
- Improved logging and reporting

### Notes for Reviewers

Playwright tracing is used during local debugging to visually inspect API requests, payloads, responses, and status codes without adding logging to test code.

This solution prioritises clarity, maintainability, and business intent within the scope of the exercise. I am happy to walk through design decisions, tradeoffs, and improvements during the interview.